import{d as v,B as h,r as i,u as w,e as g,f as P,h as o,t as d,s as e,i as c,D as n,z as s,I as V}from"./index-ab8829a0.js";import{u as y}from"./user-0747f5c3.js";import{F as m}from"./index-5fdc07ec.js";import"./index-57a6a788.js";import"./use-route-2397f8fb.js";const b={class:"setPassword common-page"},k={class:"setPassword__head bg-fff"},x={class:"flex-space"},B={class:"setPassword__body bg-fff"},D=v({__name:"setPassword",setup(F){const u=h(()=>y().userInfo||{}),a=i(""),t=i(""),p=w(),f=async()=>{if(!a.value)return n({message:s("请输入新交易密码"),duration:2e3});if(!t.value)return n({message:s("请再次输入新交易密码"),duration:2e3});if(a.value!==t.value)return n({message:s("两次密码输入不一致"),duration:2e3});(await V({password:a.value})).code===200&&(n({message:s("修改成功"),duration:2e3}),p.go(-1))};return(_,r)=>(g(),P("div",b,[o("div",k,[o("div",x,[o("span",null,d(e(s)("手机号码")),1),o("span",null,d(e(s)(e(u).phone===void 0?"":e(u).phone)),1)])]),o("div",B,[c(e(m),{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=l=>a.value=l),placeholder:e(s)("请输入新交易密码")},null,8,["modelValue","placeholder"]),c(e(m),{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=l=>t.value=l),placeholder:e(s)("请再次输入新交易密码")},null,8,["modelValue","placeholder"])]),o("div",{class:"common-btn",onClick:f},[o("div",null,d(e(s)("确定修改")),1)])]))}});export{D as default};
