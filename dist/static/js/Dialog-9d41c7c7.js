import{r as I,o as Y,a7 as z,av as j,ac as G,aw as V,ax as X,ay as Z,i as a,X as S,d as P,ai as J,Z as A,a8 as O,R as $,a0 as w,ae as L,az as Q,a4 as p,aA as ee,a6 as ne,al as te,B as H,aj as oe,Y as ae,aB as le,a1 as ie,aC as ce,W as se,a2 as re,aa as ue,a3 as de,aD as fe,aE as F,aF as ge,aG as me,aH as Be,aI as he}from"./index-77cb09f6.js";import{r as U,u as M}from"./use-route-b2c7f5cc.js";const be=(e,s)=>{const t=I(),l=()=>{t.value=Z(e).height};return Y(()=>{if(z(l),s)for(let i=1;i<=3;i++)setTimeout(l,100*i)}),j(()=>z(l)),G([V,X],l),t};function ve(e,s){const t=be(e,!0);return l=>a("div",{class:s("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[l()])}const[q,N]=S("action-bar"),W=Symbol(q),ye={placeholder:Boolean,safeAreaInsetBottom:A};var we=P({name:q,props:ye,setup(e,{slots:s}){const t=I(),l=ve(t,N),{linkChildren:i}=J(W);i();const f=()=>{var B;return a("div",{ref:t,class:[N(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(B=s.default)==null?void 0:B.call(s)])};return()=>e.placeholder?l(f):f()}});const Ce=O(we),[xe,y]=S("button"),Se=$({},U,{tag:w("button"),text:String,icon:String,type:w("default"),size:w("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:w("button"),loadingSize:L,loadingText:String,loadingType:String,iconPosition:w("left")});var Pe=P({name:xe,props:Se,emits:["click"],setup(e,{emit:s,slots:t}){const l=M(),i=()=>t.loading?t.loading():a(ne,{size:e.loadingSize,type:e.loadingType,class:y("loading")},null),f=()=>{if(e.loading)return i();if(t.icon)return a("div",{class:y("icon")},[t.icon()]);if(e.icon)return a(p,{name:e.icon,class:y("icon"),classPrefix:e.iconPrefix},null)},B=()=>{let o;if(e.loading?o=e.loadingText:o=t.default?t.default():e.text,o)return a("span",{class:y("text")},[o])},r=()=>{const{color:o,plain:h}=e;if(o){const g={color:h?o:"white"};return h||(g.background=o),o.includes("gradient")?g.border=0:g.borderColor=o,g}},b=o=>{e.loading?ee(o):e.disabled||(s("click",o),l())};return()=>{const{tag:o,type:h,size:g,block:C,round:k,plain:T,square:R,loading:_,disabled:n,hairline:c,nativeType:m,iconPosition:u}=e,v=[y([h,g,{plain:T,block:C,round:k,square:R,loading:_,disabled:n,hairline:c}]),{[Q]:c}];return a(o,{type:m,class:v,style:r(),disabled:n,onClick:b},{default:()=>[a("div",{class:y("content")},[u==="left"&&f(),B(),u==="right"&&f()])]})}}});const E=O(Pe),[ke,Te]=S("action-bar-button"),Re=$({},U,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var _e=P({name:ke,props:Re,setup(e,{slots:s}){const t=M(),{parent:l,index:i}=te(W),f=H(()=>{if(l){const r=l.children[i.value-1];return!(r&&"isButton"in r)}}),B=H(()=>{if(l){const r=l.children[i.value+1];return!(r&&"isButton"in r)}});return oe({isButton:!0}),()=>{const{type:r,icon:b,text:o,color:h,loading:g,disabled:C}=e;return a(E,{class:Te([r,{last:B.value,first:f.value}]),size:"large",type:r,icon:b,color:h,loading:g,disabled:C,onClick:t},{default:()=>[s.default?s.default():o]})}}});const K=O(_e),[De,d,x]=S("dialog"),Ae=$({},ae,{title:String,theme:String,width:L,message:[String,Function],callback:Function,allowHtml:Boolean,className:le,transition:w("van-dialog-bounce"),messageAlign:String,closeOnPopstate:A,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:A,closeOnClickOverlay:Boolean}),Ee=[...ie,"transition","closeOnPopstate"];var $e=P({name:De,props:Ae,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:s,slots:t}){const l=I(),i=ce({confirm:!1,cancel:!1}),f=n=>s("update:show",n),B=n=>{var c;f(!1),(c=e.callback)==null||c.call(e,n)},r=n=>()=>{e.show&&(s(n),e.beforeClose?(i[n]=!0,he(e.beforeClose,{args:[n],done(){B(n),i[n]=!1},canceled(){i[n]=!1}})):B(n))},b=r("cancel"),o=r("confirm"),h=fe(n=>{var c,m;if(n.target!==((m=(c=l.value)==null?void 0:c.popupRef)==null?void 0:m.value))return;({Enter:e.showConfirmButton?o:F,Escape:e.showCancelButton?b:F})[n.key](),s("keydown",n)},["enter","esc"]),g=()=>{const n=t.title?t.title():e.title;if(n)return a("div",{class:d("header",{isolated:!e.message&&!t.default})},[n])},C=n=>{const{message:c,allowHtml:m,messageAlign:u}=e,v=d("message",{"has-title":n,[u]:u}),D=ge(c)?c():c;return m&&typeof D=="string"?a("div",{class:v,innerHTML:D},null):a("div",{class:v},[D])},k=()=>{if(t.default)return a("div",{class:d("content")},[t.default()]);const{title:n,message:c,allowHtml:m}=e;if(c){const u=!!(n||t.title);return a("div",{key:m?1:0,class:d("content",{isolated:!u})},[C(u)])}},T=()=>a("div",{class:[Be,d("footer")]},[e.showCancelButton&&a(E,{size:"large",text:e.cancelButtonText||x("cancel"),class:d("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:b},null),e.showConfirmButton&&a(E,{size:"large",text:e.confirmButtonText||x("confirm"),class:[d("confirm"),{[me]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:o},null)]),R=()=>a(Ce,{class:d("footer")},{default:()=>[e.showCancelButton&&a(K,{type:"warning",text:e.cancelButtonText||x("cancel"),class:d("cancel"),color:e.cancelButtonColor,loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:b},null),e.showConfirmButton&&a(K,{type:"danger",text:e.confirmButtonText||x("confirm"),class:d("confirm"),color:e.confirmButtonColor,loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:o},null)]}),_=()=>t.footer?t.footer():e.theme==="round-button"?R():T();return()=>{const{width:n,title:c,theme:m,message:u,className:v}=e;return a(de,se({ref:l,role:"dialog",class:[d([m]),v],style:{width:ue(n)},tabindex:0,"aria-labelledby":c||u,onKeydown:h,"onUpdate:show":f},re(e,Ee)),{default:()=>[g(),k(),_()]})}}});export{$e as s};
